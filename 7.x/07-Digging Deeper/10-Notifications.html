<!DOCTYPE html>
<html class="gr__laravel_com" lang="en">
<head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <title>Notifications - Laravel - The PHP Framework For Web Artisans</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">

    <link rel="canonical" href="https://laravel.com/docs/7.x/notifications">

    <!-- Favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="https://laravel.com/img/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://laravel.com/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://laravel.com/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="https://laravel.com/img/favicon/site.webmanifest">
    <link rel="mask-icon" href="https://laravel.com/img/favicon/safari-pinned-tab.svg" color="#ff2d20">
    <link rel="shortcut icon" href="https://laravel.com/img/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#ff2d20">
    <meta name="msapplication-config" content="/img/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    <!-- Load fonts -->
    <link rel="stylesheet" href="10-Notifications_files/ins2wgm.css">

    <!-- Load styles -->
    <link rel="stylesheet" type="text/css" href="10-Notifications_files/app.css">

    <!-- Load JS -->
    <script src="10-Notifications_files/jquery.js"></script>

    <script id="_carbonads_projs" type="text/javascript" src="10-Notifications_files/CKYILK3E.json"></script>
</head>
<body class="language-php" data-gr-c-s-loaded="true">

<div class="sidebar_layout" id="docsScreen">

    <div class="page_contain">
        <div class="contain">
            <aside class="sidebar">
                <a href="../index.html" class="logo">
                    <img class="mark" src="../index_files/logomark.min.svg" alt="Laravel">
                    <img class="type" src="../index_files/logotype.min.svg" alt="Laravel">
                </a>
                <nav>
                    <div class="navigation_contain" style="display: block;">
                        <div class="docs_sidebar">
                            <ul>
                                <li>
                                    <h2>Prologue</h2>
                                    <ul>
                                        <li><a href="../01-Prologue/01-Release%20Notes.html">Release Notes</a></li>
                                        <li><a href="../01-Prologue/02-Upgrade%20Guide.html">Upgrade Guide</a></li>
                                        <li><a href="../01-Prologue/03-Contribution%20Guide.html">Contribution Guide</a>
                                        </li>
                                        <li><a href="https://laravel.com/api/7.x">API Documentation</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Getting Started</h2>
                                    <ul>
                                        <li><a href="../02-Getting%20Started/01-Installation.html">Installation</a></li>
                                        <li><a href="../02-Getting%20Started/02-Configuration.html">Configuration</a>
                                        </li>
                                        <li><a href="../02-Getting%20Started/03-Directory%20Structure.html">Directory
                                            Structure</a>
                                        </li>
                                        <li><a href="../02-Getting%20Started/04-Homestead.html">Homestead</a></li>
                                        <li><a href="../02-Getting%20Started/05-Valet.html">Valet</a></li>
                                        <li><a href="../02-Getting%20Started/06-Deployment.html">Deployment</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Architecture Concepts</h2>
                                    <ul>
                                        <li><a href="../03-Architecture%20Concepts/01-Request%20Lifecycle.html">Request
                                            Lifecycle</a></li>
                                        <li><a href="../03-Architecture%20Concepts/02-Service%20Container.html">Service
                                            Container</a></li>
                                        <li><a href="../03-Architecture%20Concepts/03-Service%20Providers.html">Service
                                            Providers</a></li>
                                        <li><a href="../03-Architecture%20Concepts/04-Facades.html">Facades</a></li>
                                        <li><a href="../03-Architecture%20Concepts/05-Contracts.html">Contracts</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>The Basics</h2>
                                    <ul>
                                        <li><a href="../04-The%20Basics/01-Routing.html">Routing</a></li>
                                        <li><a href="../04-The%20Basics/02-Middleware.html">Middleware</a></li>
                                        <li><a href="../04-The%20Basics/03-CSRF%20Protection.html">CSRF Protection</a>
                                        </li>
                                        <li><a href="../04-The%20Basics/04-Controllers.html">Controllers</a></li>
                                        <li><a href="../04-The%20Basics/05-Requests.html">Requests</a></li>
                                        <li><a href="../04-The%20Basics/06-Responses.html">Responses</a></li>
                                        <li><a href="../04-The%20Basics/07-Views.html">Views</a></li>
                                        <li><a href="../04-The%20Basics/08-URL%20Generation.html">URL Generation</a>
                                        </li>
                                        <li><a href="../04-The%20Basics/09-Session.html">Session</a></li>
                                        <li><a href="../04-The%20Basics/10-Validation.html">Validation</a></li>
                                        <li><a href="../04-The%20Basics/11-Error%20Handling.html">Error Handling</a>
                                        </li>
                                        <li><a href="../04-The%20Basics/12-Logging.html">Logging</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Frontend</h2>
                                    <ul>
                                        <li><a href="../05-Frontend/01-Blade%20Templates.html">Blade Templates</a></li>
                                        <li><a href="../05-Frontend/02-Localization.html">Localization</a></li>
                                        <li><a href="../05-Frontend/03-Frontend%20Scaffolding.html">Frontend
                                            Scaffolding</a></li>
                                        <li><a href="../05-Frontend/04-Compiling%20Assets.html">Compiling Assets</a>
                                        </li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Security</h2>
                                    <ul>
                                        <li><a href="../06-Security/01-Authentication.html">Authentication</a></li>
                                        <li><a href="../06-Security/02-Authorization.html">Authorization</a></li>
                                        <li><a href="../06-Security/03-Email%20Verification.html">Email Verification</a>
                                        </li>
                                        <li><a href="../06-Security/04-Encryption.html">Encryption</a></li>
                                        <li><a href="../06-Security/05-Hashing.html">Hashing</a></li>
                                        <li><a href="../06-Security/06-Password%20Reset.html">Password Reset</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Digging Deeper</h2>
                                    <ul>
                                        <li><a href="../07-Digging%20Deeper/01-Artisan%20Console.html">Artisan
                                            Console</a></li>
                                        <li><a href="../07-Digging%20Deeper/02-Broadcasting.html">Broadcasting</a></li>
                                        <li><a href="../07-Digging%20Deeper/03-Cache.html">Cache</a></li>
                                        <li><a href="../07-Digging%20Deeper/04-Collections.html">Collections</a></li>
                                        <li><a href="../07-Digging%20Deeper/05-Events.html">Events</a></li>
                                        <li><a href="../07-Digging%20Deeper/06-File%20Storage.html">File Storage</a>
                                        </li>
                                        <li><a href="../07-Digging%20Deeper/07-Helpers.html">Helpers</a></li>
                                        <li><a href="../07-Digging%20Deeper/08-HTTP%20Client.html">HTTP Client</a></li>
                                        <li><a href="../07-Digging%20Deeper/09-Mail.html">Mail</a></li>
                                        <li><a href="../07-Digging%20Deeper/10-Notifications.html">Notifications</a>
                                        </li>
                                        <li><a href="../07-Digging%20Deeper/11-Package%20Development.html">Package
                                            Development</a>
                                        </li>
                                        <li><a href="../07-Digging%20Deeper/12-Queues.html">Queues</a></li>
                                        <li><a href="../07-Digging%20Deeper/13-Task%20Scheduling.html">Task
                                            Scheduling</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Database</h2>
                                    <ul>
                                        <li><a href="../08-Database/01-Getting%20Started.html">Getting Started</a></li>
                                        <li><a href="../08-Database/02-Query%20Builder.html">Query Builder</a></li>
                                        <li><a href="../08-Database/03-Pagination.html">Pagination</a></li>
                                        <li><a href="../08-Database/04-Migrations.html">Migrations</a></li>
                                        <li><a href="../08-Database/05-Seeding.html">Seeding</a></li>
                                        <li><a href="../08-Database/06-Redis.html">Redis</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Eloquent ORM</h2>
                                    <ul>
                                        <li><a href="../09-Eloquent%20ORM/01-Getting%20Started.html">Getting Started</a>
                                        </li>
                                        <li><a href="../09-Eloquent%20ORM/02-Relationships.html">Relationships</a></li>
                                        <li><a href="../09-Eloquent%20ORM/03-Collections.html">Collections</a></li>
                                        <li><a href="../09-Eloquent%20ORM/04-Mutators.html">Mutators</a></li>
                                        <li><a href="../09-Eloquent%20ORM/05-API%20Resources.html">API Resources</a>
                                        </li>
                                        <li><a href="../09-Eloquent%20ORM/06-Serialization.html">Serialization</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Testing</h2>
                                    <ul>
                                        <li><a href="../10-Testing/01-Getting%20Started.html">Getting Started</a></li>
                                        <li><a href="../10-Testing/02-HTTP%20Tests.html">HTTP Tests</a></li>
                                        <li><a href="../10-Testing/03-Console%20Tests.html">Console Tests</a></li>
                                        <li><a href="../10-Testing/04-Browser%20Tests.html">Browser Tests</a></li>
                                        <li><a href="../10-Testing/05-Database.html">Database</a></li>
                                        <li><a href="../10-Testing/06-Mocking.html">Mocking</a></li>
                                    </ul>
                                </li>
                                <li>
                                    <h2>Official Packages</h2>
                                    <ul>
                                        <li><a href="../11-Official%20Packages/01-Cashier.html">Cashier (Stripe)</a>
                                        </li>
                                        <li><a href="https://github.com/laravel/cashier-mollie">Cashier (Mollie)</a>
                                        </li>
                                        <li><a href="../11-Official%20Packages/02-Dusk.html">Dusk</a></li>
                                        <li><a href="../11-Official%20Packages/03-Envoy.html">Envoy</a></li>
                                        <li><a href="../11-Official%20Packages/04-Horizon.html">Horizon</a></li>
                                        <li><a href="../11-Official%20Packages/05-Passport.html">Passport</a></li>
                                        <li><a href="../11-Official%20Packages/06-Sanctum.html">Sanctum</a></li>
                                        <li><a href="../11-Official%20Packages/07-Scout.html">Scout</a></li>
                                        <li><a href="../11-Official%20Packages/08-Socialite.html">Socialite</a></li>
                                        <li><a href="../11-Official%20Packages/09-Telescope.html">Telescope</a></li>
                                    </ul>
                                </li>
                            </ul>
                        </div>
                    </div>
                </nav>
                <div class="trigger_contain">
                    <a href="#" class="nav_trigger" aria-label="Menu">
                        <div class="bar"></div>
                    </a>
                </div>
            </aside>

            <section class="body_content">
                <section class="docs_body">
                    <section class="docs_main">
                        <h1>Notifications</h1>
                        <ul>
                            <li><a href="#introduction">Introduction</a></li>
                            <li><a href="#creating-notifications">Creating Notifications</a></li>
                            <li><a href="#sending-notifications">Sending Notifications</a>
                                <ul>
                                    <li><a href="#using-the-notifiable-trait">Using The Notifiable Trait</a></li>
                                    <li><a href="#using-the-notification-facade">Using The Notification Facade</a></li>
                                    <li><a href="#specifying-delivery-channels">Specifying Delivery Channels</a></li>
                                    <li><a href="#queueing-notifications">Queueing Notifications</a></li>
                                    <li><a href="#on-demand-notifications">On-Demand Notifications</a></li>
                                </ul>
                            </li>
                            <li><a href="#mail-notifications">Mail Notifications</a>
                                <ul>
                                    <li><a href="#formatting-mail-messages">Formatting Mail Messages</a></li>
                                    <li><a href="#customizing-the-sender">Customizing The Sender</a></li>
                                    <li><a href="#customizing-the-recipient">Customizing The Recipient</a></li>
                                    <li><a href="#customizing-the-subject">Customizing The Subject</a></li>
                                    <li><a href="#customizing-the-mailer">Customizing The Mailer</a></li>
                                    <li><a href="#customizing-the-templates">Customizing The Templates</a></li>
                                    <li><a href="#previewing-mail-notifications">Previewing Mail Notifications</a></li>
                                </ul>
                            </li>
                            <li><a href="#markdown-mail-notifications">Markdown Mail Notifications</a>
                                <ul>
                                    <li><a href="#generating-the-message">Generating The Message</a></li>
                                    <li><a href="#writing-the-message">Writing The Message</a></li>
                                    <li><a href="#customizing-the-components">Customizing The Components</a></li>
                                </ul>
                            </li>
                            <li><a href="#database-notifications">Database Notifications</a>
                                <ul>
                                    <li><a href="#database-prerequisites">Prerequisites</a></li>
                                    <li><a href="#formatting-database-notifications">Formatting Database
                                        Notifications</a></li>
                                    <li><a href="#accessing-the-notifications">Accessing The Notifications</a></li>
                                    <li><a href="#marking-notifications-as-read">Marking Notifications As Read</a></li>
                                </ul>
                            </li>
                            <li><a href="#broadcast-notifications">Broadcast Notifications</a>
                                <ul>
                                    <li><a href="#broadcast-prerequisites">Prerequisites</a></li>
                                    <li><a href="#formatting-broadcast-notifications">Formatting Broadcast
                                        Notifications</a></li>
                                    <li><a href="#listening-for-notifications">Listening For Notifications</a></li>
                                </ul>
                            </li>
                            <li><a href="#sms-notifications">SMS Notifications</a>
                                <ul>
                                    <li><a href="#sms-prerequisites">Prerequisites</a></li>
                                    <li><a href="#formatting-sms-notifications">Formatting SMS Notifications</a></li>
                                    <li><a href="#formatting-shortcode-notifications">Formatting Shortcode
                                        Notifications</a></li>
                                    <li><a href="#customizing-the-from-number">Customizing The "From" Number</a></li>
                                    <li><a href="#routing-sms-notifications">Routing SMS Notifications</a></li>
                                </ul>
                            </li>
                            <li><a href="#slack-notifications">Slack Notifications</a>
                                <ul>
                                    <li><a href="#slack-prerequisites">Prerequisites</a></li>
                                    <li><a href="#formatting-slack-notifications">Formatting Slack Notifications</a>
                                    </li>
                                    <li><a href="#slack-attachments">Slack Attachments</a></li>
                                    <li><a href="#routing-slack-notifications">Routing Slack Notifications</a></li>
                                </ul>
                            </li>
                            <li><a href="#localizing-notifications">Localizing Notifications</a></li>
                            <li><a href="#notification-events">Notification Events</a></li>
                            <li><a href="#custom-channels">Custom Channels</a></li>
                        </ul>
                        <p><a name="introduction"></a></p>
                        <h2 id="introduction"><a href="#introduction">Introduction</a></h2>
                        <p>In addition to support for <a href="https://laravel.com/docs/7.x/mail">sending email</a>,
                            Laravel provides support for sending notifications across a variety of delivery channels,
                            including mail, SMS (via <a href="https://www.nexmo.com/">Nexmo</a>), and <a
                                    href="https://slack.com/">Slack</a>. Notifications may also be stored in a database
                            so they may be displayed in your web interface.</p>
                        <p>Typically, notifications should be short, informational messages that
                            notify users of something that occurred in your application. For
                            example, if you are writing a billing application, you might send an
                            "Invoice Paid" notification to your users via the email and SMS
                            channels.</p>
                        <p><a name="creating-notifications"></a></p>
                        <h2 id="creating-notifications"><a href="#creating-notifications">Creating Notifications</a>
                        </h2>
                        <p>In Laravel, each notification is represented by a single class (typically stored in the <code
                                class=" language-php">app<span class="token operator">/</span>Notifications</code>
                            directory). Don't worry if you don't see this directory in your application, it will be
                            created for you when you run the <code class=" language-php">make<span
                                    class="token punctuation">:</span>notification</code> Artisan command:</p>
                        <pre class=" language-php"><code class=" language-php">php artisan make<span
                                class="token punctuation">:</span>notification InvoicePaid</code></pre>
                        <p>This command will place a fresh notification class in your <code
                                class=" language-php">app<span class="token operator">/</span>Notifications</code>
                            directory. Each notification class contains a <code class=" language-php">via</code> method
                            and a variable number of message building methods (such as <code class=" language-php">toMail</code>
                            or <code class=" language-php">toDatabase</code>) that convert the notification to a message
                            optimized for that particular channel.</p>
                        <p><a name="sending-notifications"></a></p>
                        <h2 id="sending-notifications"><a href="#sending-notifications">Sending Notifications</a></h2>
                        <p><a name="using-the-notifiable-trait"></a></p>
                        <h3 id="using-the-notifiable-trait"><a href="#using-the-notifiable-trait">Using The Notifiable
                            Trait</a></h3>
                        <p>Notifications may be sent in two ways: using the <code class=" language-php">notify</code>
                            method of the <code class=" language-php">Notifiable</code> trait or using the <code
                                    class=" language-php">Notification</code> <a
                                    href="https://laravel.com/docs/7.x/facades">facade</a>. First, let's explore using
                            the trait:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span
                                    class="token punctuation">\</span>Auth<span
                                    class="token punctuation">\</span>User</span> <span class="token keyword">as</span> Authenticatable<span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notifiable</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Notifiable</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p>This trait is utilized by the default <code class=" language-php">App\<span
                                class="token package">User</span></code> model and contains one method that may be used
                            to send notifications: <code class=" language-php">notify</code>. The <code
                                    class=" language-php">notify</code> method expects to receive a notification
                            instance:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">use</span> <span class="token package">App<span
                                class="token punctuation">\</span>Notifications<span class="token punctuation">\</span>InvoicePaid</span><span
                                class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">notify</span><span
                                    class="token punctuation">(</span><span class="token keyword">new</span> <span
                                    class="token class-name">InvoicePaid</span><span
                                    class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                    class="token punctuation">)</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> Remember, you may use the <code
                                        class=" language-php">Illuminate\<span class="token package">Notifications<span
                                        class="token punctuation">\</span>Notifiable</span></code> trait on any of your
                                    models. You are not limited to only including it on your <code
                                            class=" language-php">User</code> model.</p></div>
                        </blockquote>
                        <p><a name="using-the-notification-facade"></a></p>
                        <h3 id="using-the-notification-facade"><a href="#using-the-notification-facade">Using The
                            Notification Facade</a></h3>
                        <p>Alternatively, you may send notifications via the <code
                                class=" language-php">Notification</code> <a
                                href="https://laravel.com/docs/7.x/facades">facade</a>.
                            This is useful primarily when you need to send a notification to
                            multiple notifiable entities such as a collection of users. To send
                            notifications using the facade, pass all of the notifiable entities and
                            the notification instance to the <code class=" language-php">send</code> method:</p>
                        <pre class=" language-php"><code class=" language-php">Notification<span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">send</span><span class="token punctuation">(</span><span
                                class="token variable">$users</span><span class="token punctuation">,</span> <span
                                class="token keyword">new</span> <span class="token class-name">InvoicePaid</span><span
                                class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                class="token punctuation">)</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span></code></pre>
                        <p><a name="specifying-delivery-channels"></a></p>
                        <h3 id="specifying-delivery-channels"><a href="#specifying-delivery-channels">Specifying
                            Delivery Channels</a></h3>
                        <p>Every notification class has a <code class=" language-php">via</code> method that determines
                            on which channels the notification will be delivered. Notifications may be sent on the <code
                                    class=" language-php">mail</code>, <code class=" language-php">database</code>,
                            <code class=" language-php">broadcast</code>, <code class=" language-php">nexmo</code>, and
                            <code class=" language-php">slack</code> channels.</p>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> If you would like to use other delivery channels such as Telegram or
                                    Pusher, check out the community driven <a
                                            href="http://laravel-notification-channels.com/">Laravel Notification
                                        Channels website</a>.</p></div>
                        </blockquote>
                        <p>The <code class=" language-php">via</code> method receives a <code
                                class=" language-php"><span class="token variable">$notifiable</span></code> instance,
                            which will be an instance of the class to which the notification is being sent. You may use
                            <code class=" language-php"><span class="token variable">$notifiable</span></code> to
                            determine which channels the notification should be delivered on:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the notification's delivery channels.
 *
 * @param  mixed  $notifiable
 * @return array
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span
                                    class="token function">via</span><span class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token variable">$notifiable</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">prefers_sms</span> <span
                                    class="token operator">?</span> <span class="token punctuation">[</span><span
                                    class="token single-quoted-string string">'nexmo'</span><span
                                    class="token punctuation">]</span> <span class="token punctuation">:</span> <span
                                    class="token punctuation">[</span><span class="token single-quoted-string string">'mail'</span><span
                                    class="token punctuation">,</span> <span class="token single-quoted-string string">'database'</span><span
                                    class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="queueing-notifications"></a></p>
                        <h3 id="queueing-notifications"><a href="#queueing-notifications">Queueing Notifications</a>
                        </h3>
                        <blockquote>
                            <div class="callout">
                                <div class="icon red"><img src="10-Notifications_files/exclamation.svg"></div>
                                <p class="content"> Before queueing notifications you should configure your queue and <a
                                        href="https://laravel.com/docs/7.x/queues">start a worker</a>.</p></div>
                        </blockquote>
                        <p>Sending notifications can take time, especially if the channel needs
                            an external API call to deliver the notification. To speed up your
                            application's response time, let your notification be queued by adding
                            the <code class=" language-php">ShouldQueue</code> interface and <code
                                    class=" language-php">Queueable</code> trait to your class. The interface and trait
                            are already imported for all notifications generated using <code
                                    class=" language-php">make<span
                                    class="token punctuation">:</span>notification</code>, so you may immediately add
                            them to your notification class:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Notifications</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Bus<span
                                    class="token punctuation">\</span>Queueable</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Contracts<span
                                    class="token punctuation">\</span>Queue<span class="token punctuation">\</span>ShouldQueue</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notification</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">InvoicePaid</span> <span class="token keyword">extends</span> <span
                                    class="token class-name">Notification</span> <span
                                    class="token keyword">implements</span> <span
                                    class="token class-name">ShouldQueue</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Queueable</span><span
                                    class="token punctuation">;</span>

    <span class="token comment">// ...</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p>Once the <code class=" language-php">ShouldQueue</code> interface has been added to your
                            notification, you may send the notification like normal. Laravel will detect the <code
                                    class=" language-php">ShouldQueue</code> interface on the class and automatically
                            queue the delivery of the notification:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">notify</span><span class="token punctuation">(</span><span
                                class="token keyword">new</span> <span class="token class-name">InvoicePaid</span><span
                                class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                class="token punctuation">)</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span></code></pre>
                        <p>If you would like to delay the delivery of the notification, you may chain the <code
                                class=" language-php">delay</code> method onto your notification instantiation:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$when</span> <span
                                class="token operator">=</span> <span class="token function">now</span><span
                                class="token punctuation">(</span><span class="token punctuation">)</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">addMinutes</span><span class="token punctuation">(</span><span
                                class="token number">10</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">notify</span><span
                                    class="token punctuation">(</span><span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">InvoicePaid</span><span
                                    class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                    class="token punctuation">)</span><span class="token punctuation">)</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">delay</span><span class="token punctuation">(</span><span
                                    class="token variable">$when</span><span class="token punctuation">)</span><span
                                    class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <p><a name="on-demand-notifications"></a></p>
                        <h3 id="on-demand-notifications"><a href="#on-demand-notifications">On-Demand Notifications</a>
                        </h3>
                        <p>Sometimes you may need to send a notification to someone who is not stored as a "user" of
                            your application. Using the <code class=" language-php">Notification<span
                                    class="token punctuation">:</span><span
                                    class="token punctuation">:</span>route</code> method, you may specify ad-hoc
                            notification routing information before sending the notification:</p>
                        <pre class=" language-php"><code class=" language-php">Notification<span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">route</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail'</span><span
                                class="token punctuation">,</span> <span class="token single-quoted-string string">'taylor@example.com'</span><span
                                class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">route</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'nexmo'</span><span
                                    class="token punctuation">,</span> <span class="token single-quoted-string string">'5555555555'</span><span
                                    class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">route</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'slack'</span><span
                                    class="token punctuation">,</span> <span class="token single-quoted-string string">'https://hooks.slack.com/services/...'</span><span
                                    class="token punctuation">)</span>
            <span class="token operator">-</span><span class="token operator">&gt;</span><span class="token function">notify</span><span
                                    class="token punctuation">(</span><span class="token keyword">new</span> <span
                                    class="token class-name">InvoicePaid</span><span
                                    class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                    class="token punctuation">)</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <p><a name="mail-notifications"></a></p>
                        <h2 id="mail-notifications"><a href="#mail-notifications">Mail Notifications</a></h2>
                        <p><a name="formatting-mail-messages"></a></p>
                        <h3 id="formatting-mail-messages"><a href="#formatting-mail-messages">Formatting Mail
                            Messages</a></h3>
                        <p>If a notification supports being sent as an email, you should define a <code
                                class=" language-php">toMail</code> method on the notification class. This method will
                            receive a <code class=" language-php"><span class="token variable">$notifiable</span></code>
                            entity and should return a <code class=" language-php">Illuminate\<span
                                    class="token package">Notifications<span
                                    class="token punctuation">\</span>Messages<span class="token punctuation">\</span>MailMessage</span></code>
                            instance. Mail messages may contain lines of text as well as a "call to action". Let's take
                            a look at an example <code class=" language-php">toMail</code> method:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$url</span> <span class="token operator">=</span> <span
                                    class="token function">url</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'/invoice/'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">greeting</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Hello!'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'One of your invoices has been paid!'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">action</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'View Invoice'</span><span
                                    class="token punctuation">,</span> <span class="token variable">$url</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Thank you for using our application!'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> Note we are using <code class=" language-php"><span
                                        class="token variable">$this</span><span class="token operator">-</span><span
                                        class="token operator">&gt;</span><span
                                        class="token property">invoice</span><span class="token operator">-</span><span
                                        class="token operator">&gt;</span><span class="token property">id</span></code>
                                    in our <code class=" language-php">toMail</code> method. You may pass any data your
                                    notification needs to generate its message into the notification's constructor.</p>
                            </div>
                        </blockquote>
                        <p>In this example, we register a greeting, a line of text, a call to
                            action, and then another line of text. These methods provided by the <code
                                    class=" language-php">MailMessage</code>
                            object make it simple and fast to format small transactional emails.
                            The mail channel will then translate the message components into a nice,
                            responsive HTML email template with a plain-text counterpart. Here is
                            an example of an email generated by the <code class=" language-php">mail</code> channel:</p>
                        <img src="10-Notifications_files/notification-example.png" width="551" height="596">
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> When sending mail notifications, be sure to set the <code
                                        class=" language-php">name</code> value in your <code class=" language-php">config<span
                                        class="token operator">/</span>app<span
                                        class="token punctuation">.</span>php</code> configuration file. This value will
                                    be used in the header and footer of your mail notification messages.</p></div>
                        </blockquote>
                        <h4>Other Notification Formatting Options</h4>
                        <p>Instead of defining the "lines" of text in the notification class, you may use the <code
                                class=" language-php">view</code> method to specify a custom template that should be
                            used to render the notification email:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span
                                    class="token punctuation">)</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">view</span><span
                                    class="token punctuation">(</span>
        <span class="token single-quoted-string string">'emails.name'</span><span
                                    class="token punctuation">,</span> <span class="token punctuation">[</span><span
                                    class="token single-quoted-string string">'invoice'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token variable">$this</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">invoice</span><span
                                    class="token punctuation">]</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>In addition, you may return a <a href="https://laravel.com/docs/7.x/mail">mailable object</a>
                            from the <code class=" language-php">toMail</code> method:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">use</span> <span class="token package">App<span
                                class="token punctuation">\</span>Mail<span class="token punctuation">\</span>InvoicePaid</span> <span
                                class="token keyword">as</span> Mailable<span class="token punctuation">;</span>

<span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return Mailable
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span class="token class-name">Mailable</span><span
                                    class="token punctuation">(</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token punctuation">)</span><span
                                    class="token punctuation">)</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">to</span><span
                                    class="token punctuation">(</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">email</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="error-messages"></a></p>
                        <h4 id="error-messages"><a href="#error-messages">Error Messages</a></h4>
                        <p>Some notifications inform users of errors, such as a failed invoice
                            payment. You may indicate that a mail message is regarding an error by
                            calling the <code class=" language-php">error</code> method when building your message. When
                            using the <code class=" language-php">error</code> method on a mail message, the call to
                            action button will be red instead of blue:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Message
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">error</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">subject</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Notification Subject'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'...'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="customizing-the-sender"></a></p>
                        <h3 id="customizing-the-sender"><a href="#customizing-the-sender">Customizing The Sender</a>
                        </h3>
                        <p>By default, the email's sender / from address is defined in the <code class=" language-php">config<span
                                class="token operator">/</span>mail<span class="token punctuation">.</span>php</code>
                            configuration file. However, you may specify the from address for a specific notification
                            using the <code class=" language-php">from</code> method:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">from</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'test@example.com'</span><span
                                    class="token punctuation">,</span> <span class="token single-quoted-string string">'Example'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'...'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="customizing-the-recipient"></a></p>
                        <h3 id="customizing-the-recipient"><a href="#customizing-the-recipient">Customizing The
                            Recipient</a></h3>
                        <p>When sending notifications via the <code class=" language-php">mail</code> channel, the
                            notification system will automatically look for an <code class=" language-php">email</code>
                            property on your notifiable entity. You may customize which email address is used to deliver
                            the notification by defining a <code class=" language-php">routeNotificationForMail</code>
                            method on the entity:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span
                                    class="token punctuation">\</span>Auth<span
                                    class="token punctuation">\</span>User</span> <span class="token keyword">as</span> Authenticatable<span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notifiable</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Notifiable</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Route notifications for the mail channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return array|string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">routeNotificationForMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notification</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// Return email address only...</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span
                                    class="token property">email_address</span><span class="token punctuation">;</span>

        <span class="token comment">// Return name and email address...</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">email_address</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token variable">$this</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">name</span><span
                                    class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p><a name="customizing-the-subject"></a></p>
                        <h3 id="customizing-the-subject"><a href="#customizing-the-subject">Customizing The Subject</a>
                        </h3>
                        <p>By default, the email's subject is the class name of the notification
                            formatted to "title case". So, if your notification class is named <code
                                    class=" language-php">InvoicePaid</code>, the email's subject will be <code
                                    class=" language-php">Invoice Paid</code>. If you would like to specify an explicit
                            subject for the message, you may call the <code class=" language-php">subject</code> method
                            when building your message:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">subject</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Notification Subject'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'...'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="customizing-the-mailer"></a></p>
                        <h3 id="customizing-the-mailer"><a href="#customizing-the-mailer">Customizing The Mailer</a>
                        </h3>
                        <p>By default, the email notification will be sent using the default driver defined in the <code
                                class=" language-php">config<span class="token operator">/</span>mail<span
                                class="token punctuation">.</span>php</code> configuration file. However, you may
                            specify a different mailer at runtime by calling the <code
                                    class=" language-php">mailer</code> method when building your message:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">mailer</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'postmark'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">line</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'...'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="customizing-the-templates"></a></p>
                        <h3 id="customizing-the-templates"><a href="#customizing-the-templates">Customizing The
                            Templates</a></h3>
                        <p>You can modify the HTML and plain-text template used by mail
                            notifications by publishing the notification package's resources. After
                            running this command, the mail notification templates will be located in
                            the <code class=" language-php">resources<span class="token operator">/</span>views<span
                                    class="token operator">/</span>vendor<span class="token operator">/</span>notifications</code>
                            directory:</p>
                        <pre class=" language-php"><code class=" language-php">php artisan vendor<span
                                class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span
                                class="token operator">=</span>laravel<span class="token operator">-</span>notifications</code></pre>
                        <p><a name="previewing-mail-notifications"></a></p>
                        <h3 id="previewing-mail-notifications"><a href="#previewing-mail-notifications">Previewing Mail
                            Notifications</a></h3>
                        <p>When designing a mail notification template, it is convenient to
                            quickly preview the rendered mail message in your browser like a typical
                            Blade template. For this reason, Laravel allows you to return any mail
                            message generated by a mail notification directly from a route Closure
                            or controller. When a <code class=" language-php">MailMessage</code> is
                            returned, it will be rendered and displayed in the browser, allowing you
                            to quickly preview its design without needing to send it to an actual
                            email address:</p>
                        <pre class=" language-php"><code class=" language-php">Route<span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">get</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail'</span><span
                                class="token punctuation">,</span> <span class="token keyword">function</span> <span
                                class="token punctuation">(</span><span class="token punctuation">)</span> <span
                                class="token punctuation">{</span>
    <span class="token variable">$invoice</span> <span class="token operator">=</span> App\<span class="token package">Invoice</span><span
                                    class="token punctuation">:</span><span class="token punctuation">:</span><span
                                    class="token function">find</span><span class="token punctuation">(</span><span
                                    class="token number">1</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span class="token class-name">App<span
                                    class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>InvoicePaid</span><span class="token punctuation">(</span><span
                                    class="token variable">$invoice</span><span class="token punctuation">)</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">toMail</span><span class="token punctuation">(</span><span
                                    class="token variable">$invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">user</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                        <p><a name="markdown-mail-notifications"></a></p>
                        <h2 id="markdown-mail-notifications"><a href="#markdown-mail-notifications">Markdown Mail
                            Notifications</a></h2>
                        <p>Markdown mail notifications allow you to take advantage of the
                            pre-built templates of mail notifications, while giving you more freedom
                            to write longer, customized messages. Since the messages are written in
                            Markdown, Laravel is able to render beautiful, responsive HTML
                            templates for the messages while also automatically generating a
                            plain-text counterpart.</p>
                        <p><a name="generating-the-message"></a></p>
                        <h3 id="generating-the-message"><a href="#generating-the-message">Generating The Message</a>
                        </h3>
                        <p>To generate a notification with a corresponding Markdown template, you may use the <code
                                class=" language-php"><span class="token operator">--</span>markdown</code> option of
                            the <code class=" language-php">make<span
                                    class="token punctuation">:</span>notification</code> Artisan command:</p>
                        <pre class=" language-php"><code class=" language-php">php artisan make<span
                                class="token punctuation">:</span>notification InvoicePaid <span class="token operator">--</span>markdown<span
                                class="token operator">=</span>mail<span class="token punctuation">.</span>invoice<span
                                class="token punctuation">.</span>paid</code></pre>
                        <p>Like all other mail notifications, notifications that use Markdown templates should define a
                            <code class=" language-php">toMail</code> method on their notification class. However,
                            instead of using the <code class=" language-php">line</code> and <code
                                    class=" language-php">action</code> methods to construct the notification, use the
                            <code class=" language-php">markdown</code> method to specify the name of the Markdown
                            template that should be used:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$url</span> <span class="token operator">=</span> <span
                                    class="token function">url</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'/invoice/'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">subject</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Invoice Paid'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">markdown</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'mail.invoice.paid'</span><span
                                    class="token punctuation">,</span> <span class="token punctuation">[</span><span
                                    class="token single-quoted-string string">'url'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$url</span><span
                                    class="token punctuation">]</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="writing-the-message"></a></p>
                        <h3 id="writing-the-message"><a href="#writing-the-message">Writing The Message</a></h3>
                        <p>Markdown mail notifications use a combination of Blade components and
                            Markdown syntax which allow you to easily construct notifications while
                            leveraging Laravel's pre-crafted notification components:</p>
                        <pre class=" language-php"><code class=" language-php">@<span
                                class="token function">component</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail::message'</span><span
                                class="token punctuation">)</span>
<span class="token shell-comment comment"># Invoice Paid</span>

Your invoice has been paid<span class="token operator">!</span>

@<span class="token function">component</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'mail::button'</span><span
                                    class="token punctuation">,</span> <span class="token punctuation">[</span><span
                                    class="token single-quoted-string string">'url'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$url</span><span
                                    class="token punctuation">]</span><span class="token punctuation">)</span>
View Invoice
@endcomponent

Thanks<span class="token punctuation">,</span><span class="token operator">&lt;</span>br<span class="token operator">&gt;</span>
<span class="token punctuation">{</span><span class="token punctuation">{</span> <span
                                    class="token function">config</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'app.name'</span><span
                                    class="token punctuation">)</span> <span class="token punctuation">}</span><span
                                    class="token punctuation">}</span>
@endcomponent</code></pre>
                        <h4>Button Component</h4>
                        <p>The button component renders a centered button link. The component accepts two arguments, a
                            <code class=" language-php">url</code> and an optional <code
                                    class=" language-php">color</code>. Supported colors are <code
                                    class=" language-php">blue</code>, <code class=" language-php">green</code>, and
                            <code class=" language-php">red</code>. You may add as many button components to a
                            notification as you wish:</p>
                        <pre class=" language-php"><code class=" language-php">@<span
                                class="token function">component</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail::button'</span><span
                                class="token punctuation">,</span> <span class="token punctuation">[</span><span
                                class="token single-quoted-string string">'url'</span> <span
                                class="token operator">=</span><span class="token operator">&gt;</span> <span
                                class="token variable">$url</span><span class="token punctuation">,</span> <span
                                class="token single-quoted-string string">'color'</span> <span
                                class="token operator">=</span><span class="token operator">&gt;</span> <span
                                class="token single-quoted-string string">'green'</span><span class="token punctuation">]</span><span
                                class="token punctuation">)</span>
View Invoice
@endcomponent</code></pre>
                        <h4>Panel Component</h4>
                        <p>The panel component renders the given block of text in a panel that
                            has a slightly different background color than the rest of the
                            notification. This allows you to draw attention to a given block of
                            text:</p>
                        <pre class=" language-php"><code class=" language-php">@<span
                                class="token function">component</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail::panel'</span><span
                                class="token punctuation">)</span>
This is the panel content<span class="token punctuation">.</span>
@endcomponent</code></pre>
                        <h4>Table Component</h4>
                        <p>The table component allows you to transform a Markdown table into an
                            HTML table. The component accepts the Markdown table as its content.
                            Table column alignment is supported using the default Markdown table
                            alignment syntax:</p>
                        <pre class=" language-php"><code class=" language-php">@<span
                                class="token function">component</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'mail::table'</span><span
                                class="token punctuation">)</span>
<span class="token operator">|</span> Laravel       <span class="token operator">|</span> Table         <span
                                    class="token operator">|</span> Example  <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">-</span> <span class="token operator">|</span><span
                                    class="token punctuation">:</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">-</span><span
                                    class="token punctuation">:</span><span class="token operator">|</span> <span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token operator">--</span><span class="token operator">--</span><span
                                    class="token punctuation">:</span><span class="token operator">|</span>
<span class="token operator">|</span> Col <span class="token number">2</span> is      <span
                                    class="token operator">|</span> Centered      <span class="token operator">|</span> <span
                                    class="token variable">$10</span>      <span class="token operator">|</span>
<span class="token operator">|</span> Col <span class="token number">3</span> is      <span
                                    class="token operator">|</span> Right<span
                                    class="token operator">-</span>Aligned <span class="token operator">|</span> <span
                                    class="token variable">$20</span>      <span class="token operator">|</span>
@endcomponent</code></pre>
                        <p><a name="customizing-the-components"></a></p>
                        <h3 id="customizing-the-components"><a href="#customizing-the-components">Customizing The
                            Components</a></h3>
                        <p>You may export all of the Markdown notification components to your
                            own application for customization. To export the components, use the <code
                                    class=" language-php">vendor<span class="token punctuation">:</span>publish</code>
                            Artisan command to publish the <code class=" language-php">laravel<span
                                    class="token operator">-</span>mail</code> asset tag:</p>
                        <pre class=" language-php"><code class=" language-php">php artisan vendor<span
                                class="token punctuation">:</span>publish <span class="token operator">--</span>tag<span
                                class="token operator">=</span>laravel<span
                                class="token operator">-</span>mail</code></pre>
                        <p>This command will publish the Markdown mail components to the <code class=" language-php">resources<span
                                class="token operator">/</span>views<span class="token operator">/</span>vendor<span
                                class="token operator">/</span>mail</code> directory. The <code class=" language-php">mail</code>
                            directory will contain an <code class=" language-php">html</code> and a <code
                                    class=" language-php">text</code>
                            directory, each containing their respective representations of every
                            available component. You are free to customize these components however
                            you like.</p>
                        <h4>Customizing The CSS</h4>
                        <p>After exporting the components, the <code class=" language-php">resources<span
                                class="token operator">/</span>views<span class="token operator">/</span>vendor<span
                                class="token operator">/</span>mail<span class="token operator">/</span>html<span
                                class="token operator">/</span>themes</code> directory will contain a <code
                                class=" language-php"><span class="token keyword">default</span><span
                                class="token punctuation">.</span>css</code>
                            file. You may customize the CSS in this file and your styles will
                            automatically be in-lined within the HTML representations of your
                            Markdown notifications.</p>
                        <p>If you would like to build an entirely new theme for Laravel's Markdown components, you may
                            place a CSS file within the <code class=" language-php">html<span
                                    class="token operator">/</span>themes</code> directory. After naming and saving your
                            CSS file, update the <code class=" language-php">theme</code> option of the <code
                                    class=" language-php">mail</code> configuration file to match the name of your new
                            theme.</p>
                        <p>To customize the theme for an individual notification, you may call the <code
                                class=" language-php">theme</code> method while building the notification's mail
                            message. The <code class=" language-php">theme</code> method accepts the name of the theme
                            that should be used when sending the notification:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the mail representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return \Illuminate\Notifications\Messages\MailMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toMail</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">MailMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">theme</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'invoice'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">subject</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Invoice Paid'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">markdown</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'mail.invoice.paid'</span><span
                                    class="token punctuation">,</span> <span class="token punctuation">[</span><span
                                    class="token single-quoted-string string">'url'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$url</span><span
                                    class="token punctuation">]</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="database-notifications"></a></p>
                        <h2 id="database-notifications"><a href="#database-notifications">Database Notifications</a>
                        </h2>
                        <p><a name="database-prerequisites"></a></p>
                        <h3 id="database-prerequisites"><a href="#database-prerequisites">Prerequisites</a></h3>
                        <p>The <code class=" language-php">database</code> notification channel
                            stores the notification information in a database table. This table will
                            contain information such as the notification type as well as custom
                            JSON data that describes the notification.</p>
                        <p>You can query the table to display the notifications in your
                            application's user interface. But, before you can do that, you will need
                            to create a database table to hold your notifications. You may use the <code
                                    class=" language-php">notifications<span
                                    class="token punctuation">:</span>table</code> command to generate a migration with
                            the proper table schema:</p>
                        <pre class=" language-php"><code class=" language-php">php artisan notifications<span
                                class="token punctuation">:</span>table

php artisan migrate</code></pre>
                        <p><a name="formatting-database-notifications"></a></p>
                        <h3 id="formatting-database-notifications"><a href="#formatting-database-notifications">Formatting
                            Database Notifications</a></h3>
                        <p>If a notification supports being stored in a database table, you should define a <code
                                class=" language-php">toDatabase</code> or <code class=" language-php">toArray</code>
                            method on the notification class. This method will receive a <code
                                    class=" language-php"><span class="token variable">$notifiable</span></code> entity
                            and should return a plain PHP array. The returned array will be encoded as JSON and stored
                            in the <code class=" language-php">data</code> column of your <code class=" language-php">notifications</code>
                            table. Let's take a look at an example <code class=" language-php">toArray</code> method:
                        </p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the array representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return array
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toArray</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'invoice_id'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">,</span>
        <span class="token single-quoted-string string">'amount'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">amount</span><span
                                    class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <h4><code class=" language-php">toDatabase</code> Vs. <code class=" language-php">toArray</code>
                        </h4>
                        <p>The <code class=" language-php">toArray</code> method is also used by the <code
                                class=" language-php">broadcast</code>
                            channel to determine which data to broadcast to your JavaScript client.
                            If you would like to have two different array representations for the <code
                                    class=" language-php">database</code> and <code
                                    class=" language-php">broadcast</code> channels, you should define a <code
                                    class=" language-php">toDatabase</code> method instead of a <code
                                    class=" language-php">toArray</code> method.</p>
                        <p><a name="accessing-the-notifications"></a></p>
                        <h3 id="accessing-the-notifications"><a href="#accessing-the-notifications">Accessing The
                            Notifications</a></h3>
                        <p>Once notifications are stored in the database, you need a convenient way to access them from
                            your notifiable entities. The <code class=" language-php">Illuminate\<span
                                    class="token package">Notifications<span class="token punctuation">\</span>Notifiable</span></code>
                            trait, which is included on Laravel's default <code class=" language-php">App\<span
                                    class="token package">User</span></code> model, includes a <code
                                    class=" language-php">notifications</code>
                            Eloquent relationship that returns the notifications for the entity. To
                            fetch notifications, you may access this method like any other Eloquent
                            relationship. By default, notifications will be sorted by the <code class=" language-php">created_at</code>
                            timestamp:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span> <span
                                class="token operator">=</span> App\<span class="token package">User</span><span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">find</span><span class="token punctuation">(</span><span
                                class="token number">1</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span
                                    class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">notifications</span> <span
                                    class="token keyword">as</span> <span
                                    class="token variable">$notification</span><span class="token punctuation">)</span> <span
                                    class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token variable">$notification</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">type</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>If you want to retrieve only the "unread" notifications, you may use the <code
                                class=" language-php">unreadNotifications</code> relationship. Again, these
                            notifications will be sorted by the <code class=" language-php">created_at</code> timestamp:
                        </p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span> <span
                                class="token operator">=</span> App\<span class="token package">User</span><span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">find</span><span class="token punctuation">(</span><span
                                class="token number">1</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span
                                    class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span
                                    class="token property">unreadNotifications</span> <span
                                    class="token keyword">as</span> <span
                                    class="token variable">$notification</span><span class="token punctuation">)</span> <span
                                    class="token punctuation">{</span>
    <span class="token keyword">echo</span> <span class="token variable">$notification</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">type</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content">
                                    To access your notifications from your JavaScript client, you should
                                    define a notification controller for your application which returns the
                                    notifications for a notifiable entity, such as the current user. You may
                                    then make an HTTP request to that controller's URI from your JavaScript
                                    client.</p></div>
                        </blockquote>
                        <p><a name="marking-notifications-as-read"></a></p>
                        <h3 id="marking-notifications-as-read"><a href="#marking-notifications-as-read">Marking
                            Notifications As Read</a></h3>
                        <p>Typically, you will want to mark a notification as "read" when a user views it. The <code
                                class=" language-php">Illuminate\<span class="token package">Notifications<span
                                class="token punctuation">\</span>Notifiable</span></code> trait provides a <code
                                class=" language-php">markAsRead</code> method, which updates the <code
                                class=" language-php">read_at</code> column on the notification's database record:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span> <span
                                class="token operator">=</span> App\<span class="token package">User</span><span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">find</span><span class="token punctuation">(</span><span
                                class="token number">1</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span>

<span class="token keyword">foreach</span> <span class="token punctuation">(</span><span
                                    class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span
                                    class="token property">unreadNotifications</span> <span
                                    class="token keyword">as</span> <span
                                    class="token variable">$notification</span><span class="token punctuation">)</span> <span
                                    class="token punctuation">{</span>
    <span class="token variable">$notification</span><span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">markAsRead</span><span
                                    class="token punctuation">(</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>However, instead of looping through each notification, you may use the <code
                                class=" language-php">markAsRead</code> method directly on a collection of
                            notifications:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token property">unreadNotifications</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">markAsRead</span><span class="token punctuation">(</span><span
                                class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                        <p>You may also use a mass-update query to mark all of the notifications as read without
                            retrieving them from the database:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span> <span
                                class="token operator">=</span> App\<span class="token package">User</span><span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">find</span><span class="token punctuation">(</span><span
                                class="token number">1</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span>

<span class="token variable">$user</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span
                                    class="token function">unreadNotifications</span><span
                                    class="token punctuation">(</span><span class="token punctuation">)</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">update</span><span class="token punctuation">(</span><span
                                    class="token punctuation">[</span><span class="token single-quoted-string string">'read_at'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token function">now</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span><span class="token punctuation">]</span><span
                                    class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <p>You may <code class=" language-php">delete</code> the notifications to remove them from the
                            table entirely:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">notifications</span><span class="token punctuation">(</span><span
                                class="token punctuation">)</span><span class="token operator">-</span><span
                                class="token operator">&gt;</span><span class="token function">delete</span><span
                                class="token punctuation">(</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span></code></pre>
                        <p><a name="broadcast-notifications"></a></p>
                        <h2 id="broadcast-notifications"><a href="#broadcast-notifications">Broadcast Notifications</a>
                        </h2>
                        <p><a name="broadcast-prerequisites"></a></p>
                        <h3 id="broadcast-prerequisites"><a href="#broadcast-prerequisites">Prerequisites</a></h3>
                        <p>Before broadcasting notifications, you should configure and be familiar with Laravel's <a
                                href="https://laravel.com/docs/7.x/broadcasting">event broadcasting</a> services. Event
                            broadcasting provides a way to react to server-side fired Laravel events from your
                            JavaScript client.</p>
                        <p><a name="formatting-broadcast-notifications"></a></p>
                        <h3 id="formatting-broadcast-notifications"><a href="#formatting-broadcast-notifications">Formatting
                            Broadcast Notifications</a></h3>
                        <p>The <code class=" language-php">broadcast</code> channel broadcasts notifications using
                            Laravel's <a href="https://laravel.com/docs/7.x/broadcasting">event broadcasting</a>
                            services, allowing your JavaScript client to catch notifications in
                            realtime. If a notification supports broadcasting, you can define a <code
                                    class=" language-php">toBroadcast</code> method on the notification class. This
                            method will receive a <code class=" language-php"><span
                                    class="token variable">$notifiable</span></code> entity and should return a <code
                                    class=" language-php">BroadcastMessage</code> instance. If the <code
                                    class=" language-php">toBroadcast</code> method does not exist, the <code
                                    class=" language-php">toArray</code>
                            method will be used to gather the data that should be broadcast. The
                            returned data will be encoded as JSON and broadcast to your JavaScript
                            client. Let's take a look at an example <code class=" language-php">toBroadcast</code>
                            method:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">use</span> <span class="token package">Illuminate<span
                                class="token punctuation">\</span>Notifications<span class="token punctuation">\</span>Messages<span
                                class="token punctuation">\</span>BroadcastMessage</span><span
                                class="token punctuation">;</span>

<span class="token comment">/**
 * Get the broadcastable representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return BroadcastMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toBroadcast</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">BroadcastMessage</span><span
                                    class="token punctuation">(</span><span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'invoice_id'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">,</span>
        <span class="token single-quoted-string string">'amount'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">amount</span><span
                                    class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <h4>Broadcast Queue Configuration</h4>
                        <p>All broadcast notifications are queued for broadcasting. If you would
                            like to configure the queue connection or queue name that is used to
                            queue the broadcast operation, you may use the <code
                                    class=" language-php">onConnection</code> and <code
                                    class=" language-php">onQueue</code> methods of the <code class=" language-php">BroadcastMessage</code>:
                        </p>
                        <pre class=" language-php"><code class=" language-php"><span class="token keyword">return</span> <span
                                class="token punctuation">(</span><span class="token keyword">new</span> <span
                                class="token class-name">BroadcastMessage</span><span class="token punctuation">(</span><span
                                class="token variable">$data</span><span class="token punctuation">)</span><span
                                class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">onConnection</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'sqs'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">onQueue</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'broadcasts'</span><span
                                    class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <h4>Customizing The Notification Type</h4>
                        <p>In addition to the data you specify, all broadcast notifications also have a <code
                                class=" language-php">type</code> field containing the full class name of the
                            notification. If you would like to customize the notification <code class=" language-php">type</code>
                            that is provided to your JavaScript client, you may define a <code class=" language-php">broadcastType</code>
                            method on the notification class:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">use</span> <span class="token package">Illuminate<span
                                class="token punctuation">\</span>Notifications<span class="token punctuation">\</span>Messages<span
                                class="token punctuation">\</span>BroadcastMessage</span><span
                                class="token punctuation">;</span>

<span class="token comment">/**
 * Get the type of the notification being broadcast.
 *
 * @return string
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">broadcastType</span><span
                                    class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token single-quoted-string string">'broadcast.message'</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="listening-for-notifications"></a></p>
                        <h3 id="listening-for-notifications"><a href="#listening-for-notifications">Listening For
                            Notifications</a></h3>
                        <p>Notifications will broadcast on a private channel formatted using a <code
                                class=" language-php"><span class="token punctuation">{</span>notifiable<span
                                class="token punctuation">}</span><span class="token punctuation">.</span><span
                                class="token punctuation">{</span>id<span class="token punctuation">}</span></code>
                            convention. So, if you are sending a notification to a <code class=" language-php">App\<span
                                    class="token package">User</span></code> instance with an ID of <code
                                    class=" language-php"><span class="token number">1</span></code>, the notification
                            will be broadcast on the <code class=" language-php">App<span
                                    class="token punctuation">.</span>User<span class="token punctuation">.</span><span
                                    class="token number">1</span></code> private channel. When using <a
                                    href="https://laravel.com/docs/7.x/broadcasting">Laravel Echo</a>, you may easily
                            listen for notifications on a channel using the <code
                                    class=" language-php">notification</code> helper method:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">Echo</span><span class="token punctuation">.</span><span
                                class="token keyword">private</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'App.User.'</span> <span
                                class="token operator">+</span> userId<span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">notification</span><span
                                    class="token punctuation">(</span><span class="token punctuation">(</span>notification<span
                                    class="token punctuation">)</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span
                                    class="token punctuation">(</span>notification<span
                                    class="token punctuation">.</span>type<span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span></code></pre>
                        <h4>Customizing The Notification Channel</h4>
                        <p>If you would like to customize which channels a notifiable entity receives its broadcast
                            notifications on, you may define a <code class=" language-php">receivesBroadcastNotificationsOn</code>
                            method on the notifiable entity:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Broadcasting<span
                                    class="token punctuation">\</span>PrivateChannel</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span
                                    class="token punctuation">\</span>Auth<span
                                    class="token punctuation">\</span>User</span> <span class="token keyword">as</span> Authenticatable<span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notifiable</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Notifiable</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * The channels the user receives notification broadcasts on.
     *
     * @return string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">receivesBroadcastNotificationsOn</span><span
                                    class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'users.'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">id</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p><a name="sms-notifications"></a></p>
                        <h2 id="sms-notifications"><a href="#sms-notifications">SMS Notifications</a></h2>
                        <p><a name="sms-prerequisites"></a></p>
                        <h3 id="sms-prerequisites"><a href="#sms-prerequisites">Prerequisites</a></h3>
                        <p>Sending SMS notifications in Laravel is powered by <a href="https://www.nexmo.com/">Nexmo</a>.
                            Before you can send notifications via Nexmo, you need to install the <code
                                    class=" language-php">laravel<span class="token operator">/</span>nexmo<span
                                    class="token operator">-</span>notification<span class="token operator">-</span>channel</code>
                            Composer package:</p>
                        <pre class=" language-php"><code class=" language-php">composer <span class="token keyword">require</span> laravel<span
                                class="token operator">/</span>nexmo<span
                                class="token operator">-</span>notification<span class="token operator">-</span>channel</code></pre>
                        <p>This will also install the <a href="https://github.com/Nexmo/nexmo-laravel"><code
                                class=" language-php">nexmo<span class="token operator">/</span>laravel</code></a>
                            package. This package includes <a
                                    href="https://github.com/Nexmo/nexmo-laravel/blob/master/config/nexmo.php">its own
                                configuration file</a>. You can use the <code class=" language-php"><span
                                    class="token constant">NEXMO_KEY</span></code> and <code class=" language-php"><span
                                    class="token constant">NEXMO_SECRET</span></code> environment variables to set your
                            Nexmo public and secret key.</p>
                        <p>Next, you will need to add a configuration option to your <code
                                class=" language-php">config<span class="token operator">/</span>services<span
                                class="token punctuation">.</span>php</code> configuration file. You may copy the
                            example configuration below to get started:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token single-quoted-string string">'nexmo'</span> <span
                                class="token operator">=</span><span class="token operator">&gt;</span> <span
                                class="token punctuation">[</span>
    <span class="token single-quoted-string string">'sms_from'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token single-quoted-string string">'15556666666'</span><span
                                    class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span></code></pre>
                        <p>The <code class=" language-php">sms_from</code> option is the phone
                            number that your SMS messages will be sent from. You should generate a
                            phone number for your application in the Nexmo control panel.</p>
                        <p><a name="formatting-sms-notifications"></a></p>
                        <h3 id="formatting-sms-notifications"><a href="#formatting-sms-notifications">Formatting SMS
                            Notifications</a></h3>
                        <p>If a notification supports being sent as an SMS, you should define a <code
                                class=" language-php">toNexmo</code> method on the notification class. This method will
                            receive a <code class=" language-php"><span class="token variable">$notifiable</span></code>
                            entity and should return a <code class=" language-php">Illuminate\<span
                                    class="token package">Notifications<span
                                    class="token punctuation">\</span>Messages<span class="token punctuation">\</span>NexmoMessage</span></code>
                            instance:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toNexmo</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">NexmoMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Your SMS message content'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="formatting-shortcode-notifications"></a></p>
                        <h3 id="formatting-shortcode-notifications"><a href="#formatting-shortcode-notifications">Formatting
                            Shortcode Notifications</a></h3>
                        <p>Laravel also supports sending shortcode notifications, which are
                            pre-defined message templates in your Nexmo account. You may specify the
                            type of notification (<code class=" language-php">alert</code>, <code class=" language-php"><span
                                    class="token number">2</span>fa</code>, or <code
                                    class=" language-php">marketing</code>), as well as the custom values that will
                            populate the template:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Nexmo / Shortcode representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return array
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toShortcode</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">[</span>
        <span class="token single-quoted-string string">'type'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token single-quoted-string string">'alert'</span><span
                                    class="token punctuation">,</span>
        <span class="token single-quoted-string string">'custom'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token punctuation">[</span>
            <span class="token single-quoted-string string">'code'</span> <span class="token operator">=</span><span
                                    class="token operator">&gt;</span> <span class="token single-quoted-string string">'ABC123'</span><span
                                    class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> Like <a href="#routing-sms-notifications">routing SMS
                                    Notifications</a>, you should implement the <code class=" language-php">routeNotificationForShortcode</code>
                                    method on your notifiable model.</p></div>
                        </blockquote>
                        <h4>Unicode Content</h4>
                        <p>If your SMS message will contain unicode characters, you should call the <code
                                class=" language-php">unicode</code> method when constructing the <code
                                class=" language-php">NexmoMessage</code> instance:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toNexmo</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">NexmoMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Your unicode message'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">unicode</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="customizing-the-from-number"></a></p>
                        <h3 id="customizing-the-from-number"><a href="#customizing-the-from-number">Customizing The
                            "From" Number</a></h3>
                        <p>If you would like to send some notifications from a phone number that is different from the
                            phone number specified in your <code class=" language-php">config<span
                                    class="token operator">/</span>services<span
                                    class="token punctuation">.</span>php</code> file, you may use the <code
                                    class=" language-php">from</code> method on a <code class=" language-php">NexmoMessage</code>
                            instance:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Nexmo / SMS representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return NexmoMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toNexmo</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">NexmoMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Your SMS message content'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">from</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'15554443333'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="routing-sms-notifications"></a></p>
                        <h3 id="routing-sms-notifications"><a href="#routing-sms-notifications">Routing SMS
                            Notifications</a></h3>
                        <p>To route Nexmo notifications to the proper phone number, define a <code
                                class=" language-php">routeNotificationForNexmo</code> method on your notifiable entity:
                        </p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span
                                    class="token punctuation">\</span>Auth<span
                                    class="token punctuation">\</span>User</span> <span class="token keyword">as</span> Authenticatable<span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notifiable</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Notifiable</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Route notifications for the Nexmo channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">routeNotificationForNexmo</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notification</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span
                                    class="token property">phone_number</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p><a name="slack-notifications"></a></p>
                        <h2 id="slack-notifications"><a href="#slack-notifications">Slack Notifications</a></h2>
                        <p><a name="slack-prerequisites"></a></p>
                        <h3 id="slack-prerequisites"><a href="#slack-prerequisites">Prerequisites</a></h3>
                        <p>Before you can send notifications via Slack, you must install the notification channel via
                            Composer:</p>
                        <pre class=" language-php"><code class=" language-php">composer <span class="token keyword">require</span> laravel<span
                                class="token operator">/</span>slack<span
                                class="token operator">-</span>notification<span class="token operator">-</span>channel</code></pre>
                        <p>You will also need to configure an <a href="https://api.slack.com/incoming-webhooks">"Incoming
                            Webhook"</a> integration for your Slack team. This integration will provide you with a URL
                            you may use when <a href="#routing-slack-notifications">routing Slack notifications</a>.</p>
                        <p><a name="formatting-slack-notifications"></a></p>
                        <h3 id="formatting-slack-notifications"><a href="#formatting-slack-notifications">Formatting
                            Slack Notifications</a></h3>
                        <p>If a notification supports being sent as a Slack message, you should define a <code
                                class=" language-php">toSlack</code> method on the notification class. This method will
                            receive a <code class=" language-php"><span class="token variable">$notifiable</span></code>
                            entity and should return a <code class=" language-php">Illuminate\<span
                                    class="token package">Notifications<span
                                    class="token punctuation">\</span>Messages<span class="token punctuation">\</span>SlackMessage</span></code>
                            instance. Slack messages may contain text content as well as an
                            "attachment" that formats additional text or an array of fields. Let's
                            take a look at a basic <code class=" language-php">toSlack</code> example:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'One of your invoices has been paid!'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>In this example we are just sending a single line of text to Slack, which will create a
                            message that looks like the following:</p>
                        <img src="10-Notifications_files/basic-slack-notification.png">
                        <h4>Customizing The Sender &amp; Recipient</h4>
                        <p>You may use the <code class=" language-php">from</code> and <code
                                class=" language-php">to</code> methods to customize the sender and recipient. The <code
                                class=" language-php">from</code> method accepts a username and emoji identifier, while
                            the <code class=" language-php">to</code> method accepts a channel or username:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">from</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Ghost'</span><span
                                    class="token punctuation">,</span> <span class="token single-quoted-string string">':ghost:'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">to</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'#other'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'This will be sent to #other'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>You may also use an image as your logo instead of an emoji:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">from</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Laravel'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">image</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'https://laravel.com/img/favicon/favicon.ico'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'This will display the Laravel logo next to the message'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="slack-attachments"></a></p>
                        <h3 id="slack-attachments"><a href="#slack-attachments">Slack Attachments</a></h3>
                        <p>You may also add "attachments" to Slack messages. Attachments provide
                            richer formatting options than simple text messages. In this example,
                            we will send an error notification about an exception that occurred in
                            an application, including a link to view more details about the
                            exception:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$url</span> <span class="token operator">=</span> <span
                                    class="token function">url</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'/exceptions/'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">exception</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">error</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Whoops! Something went wrong.'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">attachment</span><span
                                    class="token punctuation">(</span><span class="token keyword">function</span> <span
                                    class="token punctuation">(</span><span
                                    class="token variable">$attachment</span><span
                                    class="token punctuation">)</span> <span class="token keyword">use</span> <span
                                    class="token punctuation">(</span><span class="token variable">$url</span><span
                                    class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token variable">$attachment</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">title</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'Exception: File Not Found'</span><span
                                    class="token punctuation">,</span> <span class="token variable">$url</span><span
                                    class="token punctuation">)</span>
                               <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'File [background.jpg] was not found.'</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>The example above will generate a Slack message that looks like the following:</p>
                        <img src="10-Notifications_files/basic-slack-attachment.png">
                        <p>Attachments also allow you to specify an array of data that should be
                            presented to the user. The given data will be presented in a
                            table-style format for easy reading:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$url</span> <span class="token operator">=</span> <span
                                    class="token function">url</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'/invoices/'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">invoice</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">success</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'One of your invoices has been paid!'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">attachment</span><span
                                    class="token punctuation">(</span><span class="token keyword">function</span> <span
                                    class="token punctuation">(</span><span
                                    class="token variable">$attachment</span><span
                                    class="token punctuation">)</span> <span class="token keyword">use</span> <span
                                    class="token punctuation">(</span><span class="token variable">$url</span><span
                                    class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token variable">$attachment</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">title</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'Invoice 1322'</span><span
                                    class="token punctuation">,</span> <span class="token variable">$url</span><span
                                    class="token punctuation">)</span>
                               <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">fields</span><span class="token punctuation">(</span><span
                                    class="token punctuation">[</span>
                                    <span class="token single-quoted-string string">'Title'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token single-quoted-string string">'Server Expenses'</span><span
                                    class="token punctuation">,</span>
                                    <span class="token single-quoted-string string">'Amount'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token single-quoted-string string">'$1,234'</span><span
                                    class="token punctuation">,</span>
                                    <span class="token single-quoted-string string">'Via'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token single-quoted-string string">'American Express'</span><span
                                    class="token punctuation">,</span>
                                    <span class="token single-quoted-string string">'Was Overdue'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token single-quoted-string string">':-1:'</span><span
                                    class="token punctuation">,</span>
                                <span class="token punctuation">]</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p>The example above will create a Slack message that looks like the following:</p>
                        <img src="10-Notifications_files/slack-fields-attachment.png">
                        <h4>Markdown Attachment Content</h4>
                        <p>If some of your attachment fields contain Markdown, you may use the <code
                                class=" language-php">markdown</code>
                            method to instruct Slack to parse and display the given attachment
                            fields as Markdown formatted text. The values accepted by this method
                            are: <code class=" language-php">pretext</code>, <code class=" language-php">text</code>,
                            and / or <code class=" language-php">fields</code>. For more information about Slack
                            attachment formatting, check out the <a
                                    href="https://api.slack.com/docs/message-formatting#message_formatting">Slack API
                                documentation</a>:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Get the Slack representation of the notification.
 *
 * @param  mixed  $notifiable
 * @return SlackMessage
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token variable">$url</span> <span class="token operator">=</span> <span
                                    class="token function">url</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'/exceptions/'</span><span
                                    class="token punctuation">.</span><span class="token variable">$this</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token property">exception</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">id</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token punctuation">(</span><span
                                    class="token keyword">new</span> <span
                                    class="token class-name">SlackMessage</span><span class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">error</span><span class="token punctuation">(</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'Whoops! Something went wrong.'</span><span
                                    class="token punctuation">)</span>
                <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">attachment</span><span
                                    class="token punctuation">(</span><span class="token keyword">function</span> <span
                                    class="token punctuation">(</span><span
                                    class="token variable">$attachment</span><span
                                    class="token punctuation">)</span> <span class="token keyword">use</span> <span
                                    class="token punctuation">(</span><span class="token variable">$url</span><span
                                    class="token punctuation">)</span> <span class="token punctuation">{</span>
                    <span class="token variable">$attachment</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token function">title</span><span
                                    class="token punctuation">(</span><span class="token single-quoted-string string">'Exception: File Not Found'</span><span
                                    class="token punctuation">,</span> <span class="token variable">$url</span><span
                                    class="token punctuation">)</span>
                               <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">content</span><span class="token punctuation">(</span><span
                                    class="token single-quoted-string string">'File [background.jpg] was *not found*.'</span><span
                                    class="token punctuation">)</span>
                               <span class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">markdown</span><span class="token punctuation">(</span><span
                                    class="token punctuation">[</span><span class="token single-quoted-string string">'text'</span><span
                                    class="token punctuation">]</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span
                                    class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="routing-slack-notifications"></a></p>
                        <h3 id="routing-slack-notifications"><a href="#routing-slack-notifications">Routing Slack
                            Notifications</a></h3>
                        <p>To route Slack notifications to the proper location, define a <code class=" language-php">routeNotificationForSlack</code>
                            method on your notifiable entity. This should return the webhook URL to
                            which the notification should be delivered. Webhook URLs may be
                            generated by adding an "Incoming Webhook" service to your Slack team:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Foundation<span
                                    class="token punctuation">\</span>Auth<span
                                    class="token punctuation">\</span>User</span> <span class="token keyword">as</span> Authenticatable<span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notifiable</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Authenticatable</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Notifiable</span><span class="token punctuation">;</span>

    <span class="token comment">/**
     * Route notifications for the Slack channel.
     *
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">routeNotificationForSlack</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notification</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token single-quoted-string string">'https://hooks.slack.com/services/...'</span><span
                                    class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p><a name="localizing-notifications"></a></p>
                        <h2 id="localizing-notifications"><a href="#localizing-notifications">Localizing
                            Notifications</a></h2>
                        <p>Laravel allows you to send notifications in a locale other than the
                            current language, and will even remember this locale if the notification
                            is queued.</p>
                        <p>To accomplish this, the <code class=" language-php">Illuminate\<span class="token package">Notifications<span
                                class="token punctuation">\</span>Notification</span></code> class offers a <code
                                class=" language-php">locale</code>
                            method to set the desired language. The application will change into
                            this locale when the notification is being formatted and then revert
                            back to the previous locale when formatting is complete:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">notify</span><span class="token punctuation">(</span><span
                                class="token punctuation">(</span><span class="token keyword">new</span> <span
                                class="token class-name">InvoicePaid</span><span class="token punctuation">(</span><span
                                class="token variable">$invoice</span><span class="token punctuation">)</span><span
                                class="token punctuation">)</span><span class="token operator">-</span><span
                                class="token operator">&gt;</span><span class="token function">locale</span><span
                                class="token punctuation">(</span><span
                                class="token single-quoted-string string">'es'</span><span
                                class="token punctuation">)</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span></code></pre>
                        <p>Localization of multiple notifiable entries may also be achieved via the <code
                                class=" language-php">Notification</code> facade:</p>
                        <pre class=" language-php"><code class=" language-php">Notification<span
                                class="token punctuation">:</span><span class="token punctuation">:</span><span
                                class="token function">locale</span><span class="token punctuation">(</span><span
                                class="token single-quoted-string string">'es'</span><span
                                class="token punctuation">)</span><span class="token operator">-</span><span
                                class="token operator">&gt;</span><span class="token function">send</span><span
                                class="token punctuation">(</span><span class="token variable">$users</span><span
                                class="token punctuation">,</span> <span class="token keyword">new</span> <span
                                class="token class-name">InvoicePaid</span><span class="token punctuation">(</span><span
                                class="token variable">$invoice</span><span class="token punctuation">)</span><span
                                class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
                        <h3>User Preferred Locales</h3>
                        <p>Sometimes, applications store each user's preferred locale. By implementing the <code
                                class=" language-php">HasLocalePreference</code> contract on your notifiable model, you
                            may instruct Laravel to use this stored locale when sending a notification:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token keyword">use</span> <span class="token package">Illuminate<span
                                class="token punctuation">\</span>Contracts<span class="token punctuation">\</span>Translation<span
                                class="token punctuation">\</span>HasLocalePreference</span><span
                                class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">User</span> <span
                                    class="token keyword">extends</span> <span
                                    class="token class-name">Model</span> <span class="token keyword">implements</span> <span
                                    class="token class-name">HasLocalePreference</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Get the user's preferred locale.
     *
     * @return string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">preferredLocale</span><span
                                    class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token variable">$this</span><span class="token operator">-</span><span
                                    class="token operator">&gt;</span><span class="token property">locale</span><span
                                    class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
                        <p>Once you have implemented the interface, Laravel will automatically
                            use the preferred locale when sending notifications and mailables to the
                            model. Therefore, there is no need to call the <code class=" language-php">locale</code>
                            method when using this interface:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token variable">$user</span><span
                                class="token operator">-</span><span class="token operator">&gt;</span><span
                                class="token function">notify</span><span class="token punctuation">(</span><span
                                class="token keyword">new</span> <span class="token class-name">InvoicePaid</span><span
                                class="token punctuation">(</span><span class="token variable">$invoice</span><span
                                class="token punctuation">)</span><span class="token punctuation">)</span><span
                                class="token punctuation">;</span></code></pre>
                        <p><a name="notification-events"></a></p>
                        <h2 id="notification-events"><a href="#notification-events">Notification Events</a></h2>
                        <p>When a notification is sent, the <code class=" language-php">Illuminate\<span
                                class="token package">Notifications<span class="token punctuation">\</span>Events<span
                                class="token punctuation">\</span>NotificationSent</span></code>
                            event is fired by the notification system. This contains the
                            "notifiable" entity and the notification instance itself. You may
                            register listeners for this event in your <code
                                    class=" language-php">EventServiceProvider</code>:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * The event listener mappings for the application.
 *
 * @var array
 */</span>
<span class="token keyword">protected</span> <span class="token variable">$listen</span> <span
                                    class="token operator">=</span> <span class="token punctuation">[</span>
    <span class="token single-quoted-string string">'Illuminate\Notifications\Events\NotificationSent'</span> <span
                                    class="token operator">=</span><span class="token operator">&gt;</span> <span
                                    class="token punctuation">[</span>
        <span class="token single-quoted-string string">'App\Listeners\LogNotification'</span><span
                                    class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre>
                        <blockquote>
                            <div class="callout">
                                <div class="icon purple"><img src="10-Notifications_files/lightbulb.svg"></div>
                                <p class="content"> After registering listeners in your <code class=" language-php">EventServiceProvider</code>,
                                    use the <code class=" language-php">event<span class="token punctuation">:</span>generate</code>
                                    Artisan command to quickly generate listener classes.</p></div>
                        </blockquote>
                        <p>Within an event listener, you may access the <code class=" language-php">notifiable</code>,
                            <code class=" language-php">notification</code>, and <code
                                    class=" language-php">channel</code> properties on the event to learn more about the
                            notification recipient or the notification itself:</p>
                        <pre class=" language-php"><code class=" language-php"><span class="token comment">/**
 * Handle the event.
 *
 * @param  NotificationSent  $event
 * @return void
 */</span>
<span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">handle</span><span
                                    class="token punctuation">(</span>NotificationSent <span class="token variable">$event</span><span
                                    class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token comment">// $event-&gt;channel</span>
    <span class="token comment">// $event-&gt;notifiable</span>
    <span class="token comment">// $event-&gt;notification</span>
    <span class="token comment">// $event-&gt;response</span>
<span class="token punctuation">}</span></code></pre>
                        <p><a name="custom-channels"></a></p>
                        <h2 id="custom-channels"><a href="#custom-channels">Custom Channels</a></h2>
                        <p>Laravel ships with a handful of notification channels, but you may
                            want to write your own drivers to deliver notifications via other
                            channels. Laravel makes it simple. To get started, define a class that
                            contains a <code class=" language-php">send</code> method. The method should receive two
                            arguments: a <code class=" language-php"><span
                                    class="token variable">$notifiable</span></code> and a <code
                                    class=" language-php"><span class="token variable">$notification</span></code>:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Channels</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notification</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">VoiceChannel</span>
<span class="token punctuation">{</span>
    <span class="token comment">/**
     * Send the given notification.
     *
     * @param  mixed  $notifiable
     * @param  \Illuminate\Notifications\Notification  $notification
     * @return void
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">send</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">,</span> Notification <span
                                    class="token variable">$notification</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token variable">$message</span> <span class="token operator">=</span> <span class="token variable">$notification</span><span
                                    class="token operator">-</span><span class="token operator">&gt;</span><span
                                    class="token function">toVoice</span><span class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span
                                    class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// Send notification to the $notifiable instance...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                        <p>Once your notification channel class has been defined, you may return the class name from the
                            <code class=" language-php">via</code> method of any of your notifications:</p>
                        <pre class=" language-php"><code class=" language-php"><span
                                class="token php language-php"><span class="token delimiter important">&lt;?php</span>

<span class="token keyword">namespace</span> <span class="token package">App<span class="token punctuation">\</span>Notifications</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">use</span> <span class="token package">App<span
                                    class="token punctuation">\</span>Channels<span class="token punctuation">\</span>Messages<span
                                    class="token punctuation">\</span>VoiceMessage</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">App<span
                                    class="token punctuation">\</span>Channels<span class="token punctuation">\</span>VoiceChannel</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Bus<span
                                    class="token punctuation">\</span>Queueable</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Contracts<span
                                    class="token punctuation">\</span>Queue<span class="token punctuation">\</span>ShouldQueue</span><span
                                    class="token punctuation">;</span>
<span class="token keyword">use</span> <span class="token package">Illuminate<span class="token punctuation">\</span>Notifications<span
                                    class="token punctuation">\</span>Notification</span><span
                                    class="token punctuation">;</span>

<span class="token keyword">class</span> <span class="token class-name">InvoicePaid</span> <span class="token keyword">extends</span> <span
                                    class="token class-name">Notification</span>
<span class="token punctuation">{</span>
    <span class="token keyword">use</span> <span class="token package">Queueable</span><span
                                    class="token punctuation">;</span>

    <span class="token comment">/**
     * Get the notification channels.
     *
     * @param  mixed  $notifiable
     * @return array|string
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">via</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span>VoiceChannel<span
                                    class="token punctuation">:</span><span class="token punctuation">:</span><span
                                    class="token keyword">class</span><span class="token punctuation">]</span><span
                                    class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">/**
     * Get the voice representation of the notification.
     *
     * @param  mixed  $notifiable
     * @return VoiceMessage
     */</span>
    <span class="token keyword">public</span> <span class="token keyword">function</span> <span class="token function">toVoice</span><span
                                    class="token punctuation">(</span><span
                                    class="token variable">$notifiable</span><span class="token punctuation">)</span>
    <span class="token punctuation">{</span>
        <span class="token comment">// ...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></span></code></pre>
                    </section>
                </section>
            </section>
        </div>
    </div>

</div>

</body>
<script src="../index_files/app.js.download"></script>
</html>